TOC
1. Introduction
2. Getting the source code
3. Basic Installation
4. VDR and OScam compatibility
5. Network mode and plugin setup
6. Contact and support
7. Thanks area

-----------------------------------------------------------------------------
1. Introduction
-----------------------------------------------------------------------------

DVBAPI plugin for VDR

  The plugin allows connect VDR to OScam. It creates a software CAM in VDR,
and communicates with OSCam over camd.socket (using 'dvbapi' module).
This way it pass decryption requests to OSCam and obtains back keys which
are needed for CSA stream decryption. Decryption of the stream is done using
DeCSA libraries (FFdecsa or libdvbcsa).

Refer to INSTALL/README for installation and usage procedure
Refer to FAQ for frequently asked questions

This program is free software; you can redistribute it and/or modify
it under the terms of the GNU General Public License as published by
the Free Software Foundation; either version 2 of the License, or
(at your option) any later version.
See the file COPYING for more information.

Latest version available at: https://github.com/manio/vdr-plugin-dvbapi

-----------------------------------------------------------------------------
2. Getting the source code
-----------------------------------------------------------------------------

You will have to grab the source code of course. First install the git
package provided by your distribution. Then from a terminal, type:

   $ cd /usr/local/src/vdr/PLUGINS/src
   $ git clone git://github.com/manio/vdr-plugin-dvbapi.git
   $ ln -s vdr-plugin-dvbapi dvbapi

-----------------------------------------------------------------------------
3. Basic Installation
-----------------------------------------------------------------------------

For sample installation instructions refer to INSTALL file.

-----------------------------------------------------------------------------
4. VDR and OScam compatibility
-----------------------------------------------------------------------------

Current versions of this plugin uses a new VDR CAM decrypt interface, which
was added in VDR 2.1.3. Additional fixes was added in VDR 2.1.4,
and I recommend this version as minimal VDR version for recent plugin
versions (2.0.0 or newer). You also need OScam svn rev >= 9095.

*** NOTE FOR VDR VERSION < 2.1.4
    If you are using VDR older then 2.1.4 then you also need an older plugin
    version, 1.0.6 is the last that will work.
    You also need OScam svn rev >= 7314 in this case.

-----------------------------------------------------------------------------
5. Network mode and plugin setup
-----------------------------------------------------------------------------

The standard way of using this plugin is to have it running on the same
machine as OSCam with dvbapi module enabled. This way the VDR and OSCam
is using the same hardware devices. Communication is done over unix domain
socket, /tmp/camd.socket.

Current version of the plugin has a new feature: allows connect to OSCam
via TCP socket. This way OSCam instead of doing filering on demux device,
is doing the requests over the network and the plugin is doing filering on
data provided by VDR. All communication with OSCam is done over one single
TCP socket. This allows directly connect to remote OSCam host with card
readers if it is on different host then VDR is running at.
It will also help to using the plugin in cases where there is no physical
hardware the OSCam could use, eg the SAT>IP devices running on VDR.

To enable this mode it is needed to set listening port on OSCam server and
also host and port in this plugin options. Required minimal OSCam version
for this mode to work is svn rev 9580.
Let's assume that you want to use the port 2000 for communication on host
192.168.0.1 in your LAN.
To enable this mode in OSCam, configure the listen_port via OSCam's web
interface or add the following line in [dvbapi] section of oscam.conf file:
listen_port = 2000
Please also note that you need to configure the rest of OSCam dvbapi config
as it's explained in the INSTALL file.

On the VDR plugin side you need to enable the OSCam network mode and set the
host and the same port of the machine where the OSCam is listening for
connections.
You can set it in the plugin menu or manually adding the following lines
in the VDR's setup.conf file:
dvbapi.OSCamNetwork = 1
dvbapi.OSCamHost = 192.168.0.1
dvbapi.OSCamPort = 2000


The log level parameter of the plugin can be configured either from VDR
menu or manually editing the VDR's setup.conf file (remember to change
the file when VDR is not running).

The parameter line for the plugin is:
dvbapi.LogLevel = 2

The values for the log level are:
  0 - totally disable debug
  1 - only error messages
  2 - information and error messages (default)
  3 - all information including debug

-----------------------------------------------------------------------------
6. Contact and support
-----------------------------------------------------------------------------

If you want discuss about the plugin or get help, use the following thread:
http://www.streamboard.tv/wbb2/thread.php?threadid=40060
(It is the main OSCam forum, user registration is required)

If you want to report a bug - you can create an issue on GitHub:
https://github.com/manio/vdr-plugin-dvbapi/issues

You can also join our IRC channel #dvbapi on freenode.

Or you can send me an e-mail: manio@skyboo.net

-----------------------------------------------------------------------------
7. Thanks area
-----------------------------------------------------------------------------

 I would like to give a big thanks to a number of people from the OScam Board
 (oscam.to) and eurocardsharing forum for their great help and support.

 To Aigars for creating the first simplified version of this plugin using
 VDR-SC and with modifications from dvbapi-patch.tar.gz

 To Narog for implementing the multiple adapter support

 To Peje, Unixer, Copper, HALLO01, udobroemme, ninjagp, JeroenT for their
 patience, support and testing on own hardware.

 To the authors of VDR-SC plugin, FFdecsa and Oscam for their great work and
 dedication

 In last to all other forum members that have/will contribute to this plugin.
